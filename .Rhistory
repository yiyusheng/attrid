#   panel.background = element_rect(color = 'black'),
#           panel.grid.minor = element_blank(),
#           panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
#           plot.title = element_blank(),
#           axis.line = element_line(color = 'black'),
#           axis.text = element_text(size = 18),
#           axis.title = element_text(size = 20),
#
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
#           legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5)),
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legent.margin = unit(1,units = 'cm'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.margin = unit(1,units = 'cm'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(1,units = 'cm'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(3,units = 'line'),
legend.key.hight = unit(3,units = 'line')
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(3,units = 'line'),
legend.key.hight = unit(3,units = 'line'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
print(p1)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(3,units = 'line'),
legend.key.height = unit(3,units = 'line'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL,keywidth = 0.1,default.unit = 'inch')) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(3,units = 'line'),
legend.key.height = unit(3,units = 'line'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL,keywidth = 0.1,keyheight = 0.1,default.unit = 'inch')) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(3,units = 'line'),
legend.key.height = unit(3,units = 'line'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(3,units = 'line'),
legend.key.height = unit(3,units = 'line'),
legend.text = element_text(size = 30),
legend.title = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
source('D:/Git/attrid/sc16.R')
source('D:/Git/attrid/sc16.R')
AFR_plot <- function(cm,title){
p1 <- ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(3,units = 'line'),
legend.key.height = unit(3,units = 'line'),
legend.text = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
print(p1)
ggsave(file=file.path(dir_data,'sc16',paste(title,'.eps',sep='')), plot=p1, width = 8, height = 6, dpi = 100)
}
AFR_plot(cm,'fig1')
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(1,units = 'line'),
legend.key.height = unit(1,units = 'line'),
legend.text = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(1.5,units = 'line'),
legend.key.height = unit(1.5,units = 'line'),
legend.text = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
AFR_plot <- function(cm,title){
p1 <- ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 18),
axis.title = element_text(size = 20),
legend.key.width = unit(1.5,units = 'line'),
legend.key.height = unit(1.5,units = 'line'),
legend.text = element_text(size = 20),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
print(p1)
ggsave(file=file.path(dir_data,'sc16',paste(title,'.eps',sep='')), plot=p1, width = 8, height = 6, dpi = 100)
}
AFR_plot(cm,'fig1')
View(cm)
View(cm)
cm$item <- cm$item + 1
plotCol <- c('item','class','AFR')
# naFill <- cbind(expand.grid(item = levels(cm$item),class = levels(factor(cm$class))),AFR = NA)
title <- 'fig1'
AFR_plot(cm,'fig1')
View(cm1)
View(cm2)
cm <- factorX(subset(cm,!is.na(AFR)))
cm <- rbind(cm1,cm2)
cm <- factorX(subset(cm,!is.na(AFR)))
cm <- classExchg(cm)
cm$item <- cm$item + 1
plotCol <- c('item','class','AFR')
# naFill <- cbind(expand.grid(item = levels(cm$item),class = levels(factor(cm$class))),AFR = NA)
title <- 'fig1'
AFR_plot(cm,'fig1')
cm <- rbind(cm,naFill)
naFill <- cbind(expand.grid(item = levels(cm$item),class = levels(factor(cm$class))),AFR = NA)
naFill <- cbind(expand.grid(item = levels(factor(cm$item)),
class = levels(factor(cm$class))),AFR = NA)
cm <- rbind(cm,naFill)
cm <- rbind(cm[,plotCol],naFill)
title <- 'fig1'
AFR_plot(cm,'fig1')
View(cm)
cm$item <- as.numeric(cm$item)
title <- 'fig1'
AFR_plot(cm,'fig1')
naFill <- cbind(expand.grid(item = levels(factor(cm$item)),
class = levels(factor(cm$class))),
AFR = 0)
cm <- rbind(cm[,plotCol],naFill)
cm$item <- as.numeric(cm$item)
title <- 'fig1'
AFR_plot(cm,'fig1')
View(cm)
AFR_plot <- function(cm,title){
p1 <- ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 22),
axis.title = element_text(size = 24),
legend.key.width = unit(1.5,units = 'line'),
legend.key.height = unit(1.5,units = 'line'),
legend.text = element_text(size = 24),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
print(p1)
ggsave(file=file.path(dir_data,'sc16',paste(title,'.eps',sep='')), plot=p1, width = 8, height = 6, dpi = 100)
}
AFR_plot <- function(cm,title){
p1 <- ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = floor(min(cm$AFR)):ceiling(max(cm$AFR))) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 24),
axis.title = element_text(size = 26),
legend.key.width = unit(1.5,units = 'line'),
legend.key.height = unit(1.5,units = 'line'),
legend.text = element_text(size = 26),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
print(p1)
ggsave(file=file.path(dir_data,'sc16',paste(title,'.eps',sep='')), plot=p1, width = 8, height = 6, dpi = 100)
}
cm1 <- AFR_attr_notime(tmp.f,tmp.cmdb,'fsTime','shTime',1,dev = 'C')
cm2 <- AFR_attr_notime(tmp.f,tmp.cmdb,'fsTime','shTime',12,dev = 'TS')
cm <- rbind(cm1,cm2)
cm <- factorX(subset(cm,!is.na(AFR)))
cm <- classExchg(cm)
cm$item <- cm$item + 1
plotCol <- c('item','class','AFR')
naFill <- cbind(expand.grid(item = levels(factor(cm$item)),
class = levels(factor(cm$class))),
AFR = 0)
# cm <- rbind(cm[,plotCol],naFill)
# cm$item <- as.numeric(cm$item)
title <- 'fig1'
AFR_plot(cm,'fig1')
AFR_plot <- function(cm,title){
p1 <- ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = seq(floor(min(cm$AFR)):ceiling(max(cm$AFR)),2)) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 24),
axis.title = element_text(size = 26),
legend.key.width = unit(1.5,units = 'line'),
legend.key.height = unit(1.5,units = 'line'),
legend.text = element_text(size = 26),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
print(p1)
ggsave(file=file.path(dir_data,'sc16',paste(title,'.eps',sep='')), plot=p1, width = 8, height = 6, dpi = 100)
}
AFR_plot(cm,'fig1')
AFR_plot <- function(cm,title){
p1 <- ggplot(cm,aes(x = item,y = AFR,fill = class)) +
geom_bar(stat = 'identity',position = 'dodge') +
xlab('Disk Age (years)') + ylab('Annual Failure Rate (%)') +
scale_x_continuous(breaks = floor(min(cm$item)):ceiling(max(cm$item))) +
scale_y_continuous(breaks = seq(floor(min(cm$AFR)),ceiling(max(cm$AFR)),2)) +
guides(fill = guide_legend(title=NULL)) +
theme_bw() +
theme(panel.background = element_rect(color = 'black'),
panel.grid.minor = element_blank(),
panel.grid.major = element_line(colour = 'grey', linetype = 'dotted'),
#           panel.grid.major.x = element_blank(),
plot.title = element_blank(),
axis.line = element_line(color = 'black'),
axis.text = element_text(size = 24),
axis.title = element_text(size = 26),
legend.key.width = unit(1.5,units = 'line'),
legend.key.height = unit(1.5,units = 'line'),
legend.text = element_text(size = 26),
legend.position = 'top',
legend.background = element_rect(fill = alpha('grey',0.5))
)
print(p1)
ggsave(file=file.path(dir_data,'sc16',paste(title,'.eps',sep='')), plot=p1, width = 8, height = 6, dpi = 100)
}
AFR_plot(cm,'fig1')
cm <- factorX(subset(cm,!is.na(AFR) & item != '6'))
cm1 <- AFR_attr_notime(tmp.f,tmp.cmdb,'fsTime','shTime',1,dev = 'C')
cm2 <- AFR_attr_notime(tmp.f,tmp.cmdb,'fsTime','shTime',12,dev = 'TS')
cm <- rbind(cm1,cm2)
View(cm)
cm <- factorX(subset(cm,!is.na(AFR) & item != '6'))
cm <- classExchg(cm)
cm$item <- cm$item + 1
plotCol <- c('item','class','AFR')
naFill <- cbind(expand.grid(item = levels(factor(cm$item)),
class = levels(factor(cm$class))),
AFR = 0)
# cm <- rbind(cm[,plotCol],naFill)
# cm$item <- as.numeric(cm$item)
title <- 'fig1'
AFR_plot(cm,'fig1')
View(cm)
source('D:/Git/attrid/sc16.R')
sum(cm$count_f[cm$item < 4 & class == 'Nserv'])/sum(cm$count_io[cm$item < 4 & class == 'Nserv'])
cm$count_f[cm$item < 4 & class == 'Nserv']
sum(cm$count_f[cm$item < 4 & cm$class == 'Nserv'])/sum(cm$count_io[cm$item < 4 & cm$class == 'Nserv'])
sum(cm$count_f[cm$item >= 4 & cm$class == 'Nserv'])/sum(cm$count_io[cm$item >= 4 & cm$class == 'Nserv'])
sum(cm$count_f[cm$item < 4 & cm$class == 'Sserv'])/sum(cm$count_io[cm$item < 4 & cm$class == 'Sserv'])
sum(cm$count_f[cm$item >= 4 & cm$class == 'Sserv'])/sum(cm$count_io[cm$item >= 4 & cm$class == 'Sserv'])
sum(cm$count_f[cm$item < 4 & cm$class == 'Nserv'])/sum(cm$count_io[cm$item < 4 & cm$class == 'Nserv'])*600
sum(cm$count_f[cm$item >= 4 & cm$class == 'Nserv'])/sum(cm$count_io[cm$item >= 4 & cm$class == 'Nserv'])*600
sum(cm$count_f[cm$item < 4 & cm$class == 'Sserv'])/sum(cm$count_io[cm$item < 4 & cm$class == 'Sserv'])/12*600
sum(cm$count_f[cm$item >= 4 & cm$class == 'Sserv'])/sum(cm$count_io[cm$item >= 4 & cm$class == 'Sserv'])/12*600
sum(cm$count_f[cm$item < 4 & cm$class == 'Nserv'])/sum(cm$count_io[cm$item < 4 & cm$class == 'Nserv'])*600
sum(cm$count_f[cm$item >= 4 & cm$class == 'Nserv'])/sum(cm$count_io[cm$item >= 4 & cm$class == 'Nserv'])*600
sum(cm$count_f[cm$item < 4 & cm$class == 'Sserv'])/sum(cm$count_io[cm$item < 4 & cm$class == 'Sserv'])/12*600
sum(cm$count_f[cm$item >= 4 & cm$class == 'Sserv'])/sum(cm$count_io[cm$item >= 4 & cm$class == 'Sserv'])/12*600
